import streamlit as st
import pandas as pd
import requests
from datetime import datetime

# TÃ­tulo do seu Aplicativo
st.set_page_config(page_title="Scanner AutomÃ¡tico OneNation", page_icon="ğŸ¤–")
st.title("ğŸ¤– Meu RobÃ´ Analista AutomÃ¡tico")

# --- ÃREA DE CONFIGURAÃ‡ÃƒO ---
# Aqui, no futuro, vocÃª colocarÃ¡ sua chave de API real para buscar jogos ao vivo.
# Por enquanto, ele vai simular a anÃ¡lise automÃ¡tica dos jogos de hoje.

def buscar_jogos_automaticos():
    # SimulaÃ§Ã£o de varredura automÃ¡tica (O que o robÃ´ faz por trÃ¡s das cÃ¢meras)
    # Ele compara mÃ©dias de gols, ataques perigosos e odds.
    dados = [
        {"Esporte": "Futebol", "Jogo": "Man. City vs Everton", "Probabilidade": 88, "Dica": "VitÃ³ria Casa", "ConfianÃ§a": "â­â­â­â­â­"},
        {"Esporte": "Futebol", "Jogo": "Real Madrid vs AlavÃ©s", "Probabilidade": 79, "Dica": "VitÃ³ria Casa", "ConfianÃ§a": "â­â­â­â­"},
        {"Esporte": "Basquete", "Jogo": "Lakers vs Pistons", "Probabilidade": 91, "Dica": "Vencer Partida", "ConfianÃ§a": "â­â­â­â­â­"},
        {"Esporte": "TÃªnis", "Jogo": "Djokovic vs Qualifier", "Probabilidade": 95, "Dica": "Vencer Set 1", "ConfianÃ§a": "â­â­â­â­â­"},
        {"Esporte": "Futebol", "Jogo": "Inter vs Empoli", "Probabilidade": 72, "Dica": "Over 1.5 Gols", "ConfianÃ§a": "â­â­â­"},
    ]
    return pd.DataFrame(dados)

# --- EXECUÃ‡ÃƒO ---
st.write(f"ğŸ“… **AnÃ¡lise para:** {datetime.now().strftime('%d/%m/%Y')}")
st.info("O robÃ´ estÃ¡ varrendo as ligas agora... Filtrando apenas > 70% de chance.")

df = buscar_jogos_automaticos()

# Filtro do RobÃ´: SÃ³ mostra o que Ã© maior que 70%
oportunidades = df[df['Probabilidade'] >= 70]

# ExibiÃ§Ã£o para vocÃª apenas abrir e ver
for index, row in oportunidades.iterrows():
    with st.expander(f"ğŸ“ {row['Jogo']} - {row['Probabilidade']}% de Chance"):
        st.write(f"**Mercado indicado:** {row['Dica']}")
        st.write(f"**NÃ­vel de SeguranÃ§a:** {row['ConfianÃ§a']}")
        st.write(f"**O que fazer:** Abra a OneNation.bet e procure este jogo.")

st.success("ğŸ”„ Atualizado automaticamente. Pode fechar o app e voltar mais tarde.")